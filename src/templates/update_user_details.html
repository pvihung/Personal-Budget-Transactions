<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Update User Details</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 16px; }
        .message { padding: 8px; margin-bottom: 10px; }
        .error { background:#ffe6e6; color:#a00; border:1px solid #f5c2c2; }
        .success { background:#e6ffe6; color:#080; border:1px solid #b7f0b7; }
        form { max-width: 420px; }
        label { display:block; margin-top:8px; }
        input { width:100%; padding:6px; box-sizing:border-box; }
        .actions { margin-top:12px; }
    </style>
</head>
<body>
    <h1>Update Details for {{ user.user_name if user else '' }}</h1>

    {% if error %}
        <div class="message error">{{ error }}</div>
    {% endif %}
    {% if success %}
        <div class="message success">{{ success }}</div>
    {% endif %}

    <form method="POST" action="{{ url_for('update_user', username=user.user_name) }}">
        <label for="email">Email</label>
        <input id="email" name="email" type="email" value="{{ user.email or '' }}" placeholder="email" />

        <label for="household_size">Household size</label>
        <input id="household_size" name="household_size" type="number" min="0" value="{{ user.household_size if user.household_size is not none else '' }}" placeholder="household size" />

        <label for="city">City</label>
        <input id="city" name="city" type="text" value="{{ user.location_city or '' }}" placeholder="city" />

        <label for="state">State</label>
        <input id="state" name="state" type="text" value="{{ user.location_state or '' }}" placeholder="state" />

        <label for="zipcode">Postal / Zip code</label>
        <input id="zipcode" name="zipcode" type="text" value="{{ user.location_postal_code or '' }}" placeholder="postal code" />

        <label for="country">Country</label>
        <input id="country" name="country" type="text" value="{{ user.location_country or '' }}" placeholder="country" />

        <div class="actions">
            <button type="submit">Save changes</button>
            <a href="{{ url_for('user_page', username=user.user_name) }}">Cancel</a>
        </div>
    </form>

</body>
</html>